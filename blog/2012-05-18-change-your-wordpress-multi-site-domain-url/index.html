<!DOCTYPE html>
<html lang="en-gb"><head>
  <!-- Basic Page Needs -->
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  
  <meta name="description" content="Damien Saunders - marketing &amp; management consultant">
  <meta name="author" content="Damien Saunders">
  <meta name="generator" content="Hugo 0.70.0" />
  
  <!-- Mobile Specific Metas -->
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Change your WordPress Multi-Site Domain URL</title>
  <link rel="icon" href="https://damien1.github.io/images/favicon.ico">

  <!-- Twitter Bootstrs CSS -->
  <link rel="stylesheet" href="https://damien1.github.io/plugins/bootstrap/bootstrap.min.css">
  <!-- Ionicons Fonts Css -->
  <link rel="stylesheet" href="https://damien1.github.io/plugins/ionicons/ionicons.min.css">
  <!-- animate css -->
  <link rel="stylesheet" href="https://damien1.github.io/plugins/animate-css/animate.css">
  <!-- Hero area slider css-->
  <link rel="stylesheet" href="https://damien1.github.io/plugins/slider/slider.css">
  <!-- slick slider -->
  <link rel="stylesheet" href="https://damien1.github.io/plugins/slick/slick.css">
  <!-- Fancybox -->
  <link rel="stylesheet" href="https://damien1.github.io/plugins/facncybox/jquery.fancybox.css">
  <!-- hover -->
  <link rel="stylesheet" href="https://damien1.github.io/plugins/hover/hover-min.css">
  <!-- template main css file -->
  
  <link rel="stylesheet" href="https://damien1.github.io/css/style.min.css" integrity="" media="screen">
</head><body><section class="top-bar animated-header">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<nav class="navbar navbar-expand-lg navbar-light bg-light">
					<a class="navbar-brand" href="https://damien1.github.io">
						<img src="https://damien1.github.io/damiensaunders.png" alt="Damien Saunders">
					</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
						aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse" id="navigation">
						<ul class="navbar-nav ml-auto">
							<li class="nav-item">
								<a class="nav-link" href="https://damien1.github.io">Home</a>
							</li>
							
							<li class="nav-item">
								<a class="nav-link" href="https://damien1.github.io/blog">Blog</a>
							</li>
							
					</div>
				</nav>
			</div>
		</div>
	</div>
</section>

<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Change your WordPress Multi-Site Domain URL</h2>
                    <div class="portfolio-meta">
                        <span>Friday, May 18, 2012</span>|
                        <span> Tags:
                            domain, multisite, network, SQL, URL
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="single-post">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                
                <div class="post-content">
                    <p>I’ve just finished <strong>changing my domain name</strong> URL for my <strong>WordPress multisite</strong>. After running <strong>WordPress as a network</strong> for nearly 2 years and managing a number of other WordPress sites, domain changes should be easy to do (but over time things get more complicated).</p>
<p>WordPress multisite adds a layer of complications – if you just want to update the domain URL for one of your blogs, then check out Domain Mapping plugins.</p>
<p>It’s fairly easily to modify the domain names for a WordPress single stand-alone install. Just go look at your WordPress settings.</p>
<h2 id="before-you-change-your-wordpress-network-url">Before you change your WordPress Network URL</h2>
<p>Changing the website domain can be complicated and you need access to DNS domain management tools as well as feel comfortable with using PHPMyAdmin and editing SQL tables.</p>
<p>If this makes you squeamish, then you’ll probably be better of setting up a new instance of WordPress with the new domain and importing / starting from a clean install.</p>
<h3 id="sql">SQL</h3>
<ol>
<li>Always make an <a href="http://wordpress.damien.co/dbc-backup-2/" title="DBC Backup 2">EXPORT of your SQL database using DBC Backup 2 BEFORE</a> you do any of this or you will break your website. Yes, break your website as in 404, 503, database connection errors, redirects and worse search engine errors!</li>
<li>You’ll need to use a MySQL editor like sequelpro or SQLyog. Editing with PHPMyAdmin can take too long.</li>
</ol>
<h3 id="dns-records">DNS Records</h3>
<ol>
<li>Remember to update your Domain Registration and remove any redirects or unpark the new domain you’ll want to use.</li>
<li>Add the * wildcard sub-domain redirect for your new URL.</li>
<li>Do delay by a day or do this on a slow traffic day if your DNS records take time to ‘flush’.</li>
</ol>
<h3 id="isp-host">ISP Host</h3>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="let8217s-go-change-your-multi-site-network-wordpress-site-url">Let’s Go Change your Multi-Site Network WordPress Site URL</h2>
<h3 id="wp-configphp">wp-config.php</h3>
<p>You only make one change here the value of</p>
<!-- raw HTML omitted -->
<p>from oldsite.com to newsite.com</p>
<p>[php] define( ‘DOMAIN_CURRENT_SITE’, ‘damiensaunders.com’ ); [/php]</p>
<p>Note … adding the hack in wp-config for SiteURL or HomeURL doesn’t seem to do anything here.</p>
<h3 id="wp_options">wp_options</h3>
<p>You make 2 changes here</p>
<!-- raw HTML omitted -->
<p>and</p>
<!-- raw HTML omitted -->
<p>from oldsite.com to newsite.com</p>
<h3 id="wp_blogs">wp_blogs</h3>
<p>WP standalone doesn’t have this table. You need to change the domain value for every single one of your blogs. I’m lucky, I’ve only got 10 blogs to change.</p>
<p>You need to look for and change</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>for each of your sub-blogs.</p>
<h2 id="images-guids-and-other-things">Images, Guids and other things</h2>
<p>Once you can login – Install Search and Replace plugin and do a ‘sweep’ of your website for references to your old site name.</p>
<p>Be very careful with you Search and Replace ….</p>
<p><!-- raw HTML omitted -->don’t<!-- raw HTML omitted --> just replace <a href="http://oldsite.com">http://oldsite.com</a> with http://newsite.com  because your manual changes should have done this.</p>
<p><!-- raw HTML omitted -->don’t<!-- raw HTML omitted --> replace oldsite.com with newsite.com as you’ll break folder paths etc.  e.g. if your folder path is public_html/oldsite.com/wordpress then you can’t do a search &amp; replace.</p>
<p><!-- raw HTML omitted -->don’t<!-- raw HTML omitted --> change the GUIDs unless you know what you are doing!</p>
<h2 id="heading"></h2>
<h2 id="google-analytics--adsense-adwords-feedburner">Google Analytics &amp; Adsense, Adwords, Feedburner</h2>
<p>Once you’ve changed your domain name you need to update your Google Analytics and other web-tracker accounts. If you run Adwords you probably have 1/2 a day before Google will recognise and disapprove your ads.</p>
<h2 id="serp-seo--google-webmaster-tools">SERP, SEO &amp; Google Webmaster Tools</h2>
<p>Now’s the time to read-up on 301 redirects and .htaccess rewrite rules. Afterwards, submit your new site map via Google Webmaster Tools and also follow the options to migrate your old URL to the new URL.</p>
<h2 id="help-8211-it8217s-all-broken">HELP – it’s all broken</h2>
<p>Well no – it’s not all broken. You just have to figure out where things were changed that stop stuff working. In the first place, check your database options and look for the changes you made – maybe you overwrote URL’s in too many places.</p>
<p>If you need help — then <a href="http://damien.co/contact">email me</a></p>
<h3 id="links">LINKS</h3>
<p><!-- raw HTML omitted -->Change the Site URL – multisite<!-- raw HTML omitted --></p>

                </div>
            </div>
        </div>
    </div>
</section>



<!-- Footer Section Start -->
<footer id="footer">
    <div class="container">
        <div class="row content-justify-between">
            <div class="col-md-8 col-12 text-center text-lg-left text-md-left">
                <p class="copyright">Copyright &copy;  2004 - 
                    <span>
                        <script>document.write(new Date().getFullYear())</script>
                    </span>  Damien Saunders.
                    <br> Theme design and developed by
                    <a href="http://www.Themefisher.com" target="_blank">Themefisher</a>.
                    
                </p>
            </div>
            <div class="col-md-4 col-12">
                <!-- Social Media -->
                <ul class="social text-center text-md-right text-lg-right">
                    
                    <li><a href="https://linkedin.com/in/damiensaunders"><i class="ion-social-linkedin"></i></a></li>
                    
                    <li><a href="https://twitter.com/damiensaunders"><i class="ion-social-twitter"></i></a></li>
                    
                    <li><a href="mailto:hello@damiensaunders.com"><i class="ion-email"></i></a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</footer>
<!-- footer section end -->

<!-- jquery -->
<script src="https://damien1.github.io/plugins/jQurey/jquery.min.js"></script>
<!-- Form Validation -->
<script src="https://damien1.github.io/plugins/form-validation/jquery.form.js"></script>
<script src="https://damien1.github.io/plugins/form-validation/jquery.validate.min.js"></script>
<!-- slick slider -->
<script src="https://damien1.github.io/plugins/slick/slick.min.js"></script>
<!-- bootstrap js -->
<script src="https://damien1.github.io/plugins/bootstrap/bootstrap.min.js"></script>
<!-- wow js -->
<script src="https://damien1.github.io/plugins/wow-js/wow.min.js"></script>
<!-- slider js -->
<script src="https://damien1.github.io/plugins/slider/slider.js"></script>
<!-- Fancybox -->
<script src="https://damien1.github.io/plugins/facncybox/jquery.fancybox.js"></script>
<!-- template main js -->

<script src="https://damien1.github.io/js/script.min.js"></script>
<!-- google analitycs -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-12356173-11', 'auto');
    ga('send', 'pageview');
</script>
</body>
</html>